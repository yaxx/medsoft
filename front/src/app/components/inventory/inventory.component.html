
<div class="modal " role="dialog" tabindex="-1" id="productModal" style="max-width:570px;margin: auto;padding-top: 0px">
        <div style="max-width: 730px;border-radius:32px;height:100%;margin-top: 0px;margin-bottom: 0px;" class="modal-dialog" role="document">
            <div class="modal-content" style="width:100%; height:100%;margin-top:0px;padding-left:0px;padding-right: 0px;">
                <div class="modal-body" style="padding: 0px;height:100%;">
                        <div class="card card-secondary historycard midlecard profilecard" style="margin:auto;height:100%;border-radius:0px;width:100%;position: absolute">
                            <div style='padding-left: 30px;border-top-right-radius:0px;border-top-left-radius:0px;border-bottom: 0px;height:40px;margin-bottom: 10px;' class="card-header profileheader small-header">
                                <h6 *ngIf="tableView ==='Products'" style='font-size:11px;position:absolute;color:dodgerblue; font-weight:normal; top:18px; width:100%' class="patien-name small-name">ADD PRODUCTS<span style="left:87%;bottom:-4px; cursor:pointer;position:absolute;font-size:20px;"><i (click)='clearTemVariables()'  title="Close" class="icon ion-android-close" data-dismiss ='modal' style="font-size: 17px;"></i></span>
                                </h6>
                                <h6 *ngIf="tableView ==='Services'" style='font-size:11px;position:absolute;color:dodgerblue; font-weight:normal; top:18px; width:100%' class="patien-name small-name">ADD SERVICES<span style="left:87%;bottom:-4px; cursor:pointer;position:absolute;font-size:20px;"><i (click)=clearTemVariables() title="Close" class="icon ion-android-close" data-dismiss ='modal' style="font-size: 17px;"></i></span>
                                </h6>
                                <h6 *ngIf="tableView ==='Cards'" style='font-size:11px;position:absolute;color:dodgerblue; font-weight:normal; top:18px; width:100%' class="patien-name small-name">ADD CARDS<span style="left:87%;bottom:-4px; cursor:pointer;position:absolute;font-size:20px;"><i (click)=clearTemVariables() title="Close" class="icon ion-android-close" data-dismiss ='modal' style="font-size: 17px;"></i></span>
                                </h6>
                            </div>
                            <div *ngIf="tableView ==='Products'"  class="card-body orderbody" style="width:85%;margin:auto;">
                                <form style="top:15%; width:60%;margin:auto;" class=" staffsform" (submit) = addProducts()>
                                <div class="form-group vitals-section address">
                                    <label style='font-size:8px' for="drug" class="labelss">PRODUCT</label>
                                    <input autocomplete="off" (focus)=clearFeedback() [(ngModel)]=product.item.name type="text" name="drug" placeholder="E.g Paracetamol 500mg" class="form-control patientdata dystolic inputs dataInfo" />
                                   
                            </div>
                            <div class="form-group vitals-section formGroup" style=" width:49%; margin-right: 5px">
                                <label style='font-size:8px' for="dos" class="labelss complain">QTY</label>
                                <input (focus)=clearFeedback() form-control [min]='1' [(ngModel)]="product.stockInfo.quantity" style="font-size:11px" type="number" name="dos" class="form-control patientdata inputs dataInfo">
                            </div>
                            <div class="form-group vitals-section formGroup" style=" width:49%; ">
                                <label style='font-size:8px' for="price" class="labelss complain">PRICE</label>
                                <input (focus)=clearFeedback() [min]='1' type="number" [(ngModel)]="product.stockInfo.price" style="font-size:11px;" class="form-control patientdata status inputs dataInfo" name="price">
                            </div>
                            <div class="form-group vitals-section address" style='width:100%'>
                                <label style="font-size:8px" for="request" class="labelss">EXPIRY</label>
                                <input (focus)=clearFeedback() type="date" style='width: 91%;' name='request' 
                                [(ngModel)]="product.stockInfo.expiry"  autocomplete="off" class="patientdata dystolic inputs dataInfo">
                                <div style="background: white;top:0px;height: 28px; cursor:pointer" id='moreBtn' >
                                    <i title="Add Product" *ngIf = formCompleted()  style="left:13%; top:-29%;" (click) = addMore() class = "icon ion-ios-plus-empty arrow">
                                    </i>
                                </div>
                            </div>
                        </form>
                        <div style="top:1px;position:relative;width:80%;margin:auto;height: 200px">
                            <table *ngIf="temProducts.length" cellspacing="0" class="data-table drugs-table" style="width:100%;left:0%;" summary="List of all items in store. ">
                                <thead class='productHead'>
                                    <tr class="staff-th">
                                        <th style="padding-left:4px;" class="headlbl staff-th">PRODUCT</th>
                                        <th class="headlbl staff-th">QTY</th>
                                        <th class="headlbl staff-th">PRICE</th>
                                        <th style='text-align:right' class="headlbl staff-th">EXPIRY</th>
                                        <th style='text-align:right' class="headlbl staff-th"></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let product of temProducts; let i = index; let odd = odd;" style="border-bottom:2px solid white;" [class.even]=odd class="ro staff-row">
                                        <td style="padding-left:4px;" class="data prod-data">
                                            {{product.item.name}}<span class="predata"></span></td>
                                        <td class="data prod-data">{{product.stockInfo.quantity}}</td>
                                        <td class="data prod-data">{{product.stockInfo.price}}</td>
                                        <td style='text-align: right;padding-right: 2px;' class="data prod-data">
                                            {{product.stockInfo.expiry||'---'}}</td>
                                        <td style="text-align: center; padding-left:3px;" class="data prod-data">
                                            <i (click)="removeProduct(i)" class="icon ion-ios-trash-outline tableicon" title="Remove" style="font-size:15px; cursor: pointer;">
                                            </i>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div *ngIf='tableView==="Services"' style='margin-left:0px' class="card-body orderbody">
                            <form style="top:15%; width:56%;margin:auto;" class=" staffsform" (submit)=addProducts()>
                                <div class="form-group vitals-section address">
                                    <label style="font-size:8px" for="conclution" class="labelss">CATEGORY</label>
                                    <select name='conclution' [(ngModel)]="product.item.category" autocomplete="off" class="patientdata dystolic inputs dataInfo">
                                        <option>Scanning</option>
                                        <option>Surgery</option>
                                        <option>Test</option>
                                    </select>
                                </div>
                                <div class="form-group vitals-section address">
                                    <label style='font-size:8px;' for="drug" class="labelss">DESCRIPTION</label>
                                    <input autocomplete="off" (keyup) = getDescriptions()  [(ngModel)]=product.item.name type="text" name="drug" class="form-control patientdata dystolic inputs dataInfo" />
                                    <div  *ngIf="matches.length" style="position: absolute;z-index:200;height: 300px;border: none;"  class="options prisOption edit">
                                        <ul data-simplebar class="itemsList" style=" border-radius:4px; height: 300px;background-color: white;border:1px solid whitesmoke">
                                            <li *ngFor="let match of matches">
                                                <p (click)=selectTest(match) class="dept firstheader drugItem" style="font-size:11px;padding-left: 10px; padding-right: 10px;font-weight: normal;">{{match}}<span class="lastdept timetaken "></span>
                                                </p>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="form-group vitals-section address">
                                    <label style='font-size:8px' for="expiry" class="labelss complain">PRICE</label>
                                    <input (focus)=clearFeedback() [(ngModel)]="product.stockInfo.price" style="font-size:11px;border-top-right-radius: 0px;border-bottom-right-radius:0px;width: 91%;" type="number" name="price" class="form-control patientdata inputs dataInfo" placeholder="">
                                    <div style="background: white;top:1px;height: 26px; cursor:pointer" id='moreBtn' >
                                        <i *ngIf="serviceFormCompleted()" title="Add Service" style="left:13%; top:-29%;" (click) = addMoreService() class = "icon ion-ios-plus-empty arrow">
                                        </i>
                                    </div>
                                </div>
                            </form>
                            <div *ngIf="temProducts.length" style="top:1px;position:relative;width:80%;margin:auto;height: 200px">
                                <table cellspacing="0" class="data-table drugs-table" style="width:100%;left:0%;" summary="List of all items in store. ">
                                    <thead class='productHead'>
                                        <tr class="staff-th">
                                            <th style="padding-left:4px;" class="headlbl staff-th">SERVICE</th>
                                            <th class="headlbl staff-th">CATEGORY</th>
                                            <th class="headlbl staff-th">PRICE</th>
                                            <th style='text-align:right' class="headlbl staff-th">DATE ADDED</th>
                                            <th style='text-align:right' class="headlbl staff-th"></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let product of temProducts; let i = index; let odd = odd;" style="border-bottom:2px solid white;" [class.even]=odd 
                                        class="ro staff-row">
                                            <td style="padding-left:4px;" class="data"> {{product.item.name}}<span class="predata"></span></td>
                                            <td class="data">{{product.item.category}}</td>
                                            <td class="data">{{product.stockInfo.price}}</td>
                                            <td style='text-align: right;padding-right: 2px;' class="data">
                                                {{product.dateCreated|date:'dd-MM-y'}}
                                            </td>
                                            <td style="text-align: left; padding-left:3px" class="data">
                                                <i (click)="removeProduct(i)" class="icon ion-ios-trash-outline tableicon" title="Remove" style="font-size:17px; cursor: pointer;"></i>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                    </div>
                    <div *ngIf="tableView ==='Cards'"  style='margin-left:0px' class="card-body orderbody">
                        <form style="top:15%; width:56%;padding-top:18px;margin:auto;" class=" staffsform" (submit)=addProducts()>
                            <div class="form-group vitals-section address">
                                <label style="font-size:8px" for="conclution" class="labelss">CARD</label>
                                <select name='conclution' [(ngModel)]="item.name" autocomplete="off" class="patientdata dystolic inputs dataInfo">
                                    <option>Standard</option>
                                    <option>Premium</option>
                                    <option>Exclusive</option>
                                </select>
                            </div>
                            <div class="form-group vitals-section address" style=" width:47%; margin-right: 3px">
                                <label style='font-size:8px' for="price" class="labelss complain">PRICE</label>
                                <input (focus)=clearFeedback() [min]='1' type="number" [(ngModel)]="product.stockInfo.price" style="font-size:11px;" class="form-control patientdata status inputs dataInfo" name="price">
                            </div>
                            <div class="form-group vitals-section address" style=" width:42.3%; ">
                                <label style='font-size:8px' for="expiry" class="labelss complain">QTY</label>
                                <input (focus)=clearFeedback() [(ngModel)]="product.stockInfo.quantity" style="font-size:11px;width: 91%;" type="number" name="expiry" class="form-control patientdata inputs dataInfo" placeholder="">
                                <div style="background: white;top:0px;height: 28px; cursor:pointer" id='moreBtn' >
                                    <i title="Add Card"  style="left:13%; top:-28%;" (click) = addMore() class = "icon ion-ios-plus-empty arrow"></i>
                                </div>
                            </div>
                        </form>
                        <div *ngIf="temProducts.length" style="top:1px; margin-bottom:25px;position:relative;width: 322px;left:70px;" class="form-group vitals-section setGroup">
                            <table cellspacing="0" class="data-table drugs-table" style="width:100%;left:0%;" summary="List of all items in store. ">
                                <thead class='productHead'>
                                    <tr class="staff-th">
                                        <th style="padding-left:4px;" class="headlbl staff-th">CARD</th>
                                        <th class="headlbl staff-th">QTY</th>
                                        <th style="text-align: right; " class="headlbl staff-th">PRICE</th>
                                        <th style='text-align:right' class="headlbl staff-th"></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let product of temProducts; let i = index; let odd = odd;" style="border-bottom:2px solid white;" [class.even]=odd class="ro staff-row">
                                        <td style="padding-left:4px;" class="data">
                                            {{product.item.name}}<span class="predata"></span></td>
                                        <td class="data">{{product.stockInfo.quantity}}</td>
                                        <td style="text-align: right;" class="data">
                                            {{product.stockInfo.price}}
                                        </td>
                                        <td style="text-align: right; padding-left:3px" class="data">
                                            <i (click)="removeProduct(i)" class="icon ion-ios-trash-outline tableicon" title="Remove" style="font-size:17px; cursor: pointer;"></i>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div style="position: absolute;top:87%;width:100%;display:flex;justify-content: center;align-content: center;" class="btn-group disposition">
                        <button (click)="addProducts()" [disabled]=!temProducts.length  style=" width: 170px;font-size: 10px; border-radius: 30px; height:27px;" class="btn btn-sm btn-outline-primary  mainbtn">
                           DONE
                            <span *ngIf='processing' style="position: absolute; bottom: -7%;left: 10%;">
                                <i class="fa fa-circle-o-notch fa-spin fa-10x slow-spin " style="position:absolute;bottom:5px;left:5px;font-size:19px;color: #1da1f2;"></i>
                            </span>
                        </button>
                    </div>
                 </div>
                <h6 *ngIf="feedback" class="feedbackMsg">{{feedback}}</h6>
                <h6 *ngIf=errLine style="color: red" class="feedbackMsg">{{errLine}}</h6>
            </div>
        </div>
    </div>
</div>









<div class="modal " role="dialog" tabindex="-1" id="editModal" style="max-width:570px;margin: auto;padding-top: 0px">
    <div style="max-width: 730px;height:100%;margin-top: 0px;margin-bottom: 0px;" class="modal-dialog" role="document">
        <div class="modal-content" style="width:100%; height:100%;margin-top:0px;padding-left:0px;padding-right: 0px;">
            <div class="modal-body" style="padding: 0px;height:100%;">
                    <div class="card card-secondary historycard midlecard profilecard" style="margin:auto;height:100%;border-radius:0px;width:100%;position: absolute">
                        <h6 *ngIf="tableView ==='Services'" style='font-size:11px;position:absolute;color:dodgerblue; font-weight:normal; top:18px; width:100%' class="patien-name small-name">EDIT SERVICES<span style="left:89%;bottom:-4px; cursor:pointer;position:absolute;font-size:20px;"><i title = "Close"   (click) = clearTemVariables() class="icon ion-android-close" data-dismiss ='modal' style="font-size: 17px;"></i></span>
                        </h6>
                        <h6 *ngIf="tableView ==='Products'" style='font-size:11px;position:absolute;color:dodgerblue; font-weight:normal; top:18px; width:100%' class="patien-name small-name">EDIT PRODUCTS
                            <span style="left:89%;bottom:-4px; cursor:pointer;position:absolute;font-size:20px;">
                            <i (click) = clearTemVariables() title="Close" class="icon ion-android-close" data-dismiss = 'modal' style="font-size: 17px;"></i>
                        </span>
                        </h6>
                        <h6 *ngIf="tableView ==='Cards'" style='font-size:11px;position:absolute;color:dodgerblue; font-weight:normal; top:18px; width:100%' class="patien-name small-name">EDIT CARDS
                            <span style="left:89%;bottom:-4px; cursor:pointer;position:absolute;font-size:20px;">
                            <i (click) = clearTemVariables() title="Close" class="icon ion-android-close" data-dismiss = 'modal' style="font-size: 17px;"></i>
                        </span>
                        </h6>
                    <div *ngIf='tableView === "Products"' style='margin-left:0px;width:85%;margin:auto;padding-top: 48px;' class="card-body orderbody">
                        <form style="top:15%; width:60%;margin:auto;">
                            <div class="form-group vitals-section address">
                                <label style='font-size:8px' for="drug" class="labelss">PRODUCT</label>
                                <input autocomplete="off"  [(ngModel)]=product.item.name type="text" name="drug" placeholder="E.g Paracetamol 500mg" class="patientdata dystolic inputs dataInfo" style="font-size:11px;" />
                            </div>
                            <div class="form-group vitals-section formGroup" style=" width:49%; margin-right: 3px">
                                <label style='font-size:8px' for="dos" class="labelss complain">QTY</label>
                                <input [min]='0' [(ngModel)]="product.stockInfo.quantity" style="border-top-right-radius: 4px;border-bottom-right-radius:4px;font-size:11px" type="number" name="dos" class="patientdata inputs dataInfo">
                            </div>
                            <div class="form-group vitals-section formGroup" style=" width:49%; ">
                                <label style='font-size:8px' for="price" class="labelss complain">PRICE</label>
                                <input type="number" [min]="0" [(ngModel)]="product.stockInfo.price" style="font-size:11px;" class=" patientdata status inputs dataInfo " name="price">
                            </div>
                            <div class="form-group vitals-section address">
                                <label style='font-size:8px' for="expiry" class="labelss complain">EXPIRY</label>
                                <input [(ngModel)]="product.stockInfo.expiry" style="font-size:11px;" type="date" name="expiry" class="patientdata inputs dataInfo" placeholder="">
                            </div>
                            <div style="margin-bottom:0px; width:100%;position:relative;height:15px;" class="form-group vitals-section formGroup">
                                <p style='position: absolute;left:47%;text-align:center; font-size:11px; top:10%;'>
                                    {{edited.length}}<span>/</span><span>{{count}}</span>
                                </p>
                            </div>
                        </form>
                        <div *ngIf="edited.length" style="top:1px;position:relative;width:85%;margin:auto;height: 200px">
                            <table cellspacing="0" class="data-table drugs-table" style="width:100%;left:0%;" summary="List of all items in store. ">
                                <thead class='productHead'>
                                    <tr class="staff-th">
                                        <th style="padding-left:4px;" class="headlbl staff-th">PRODUCT</th>
                                        <th class="headlbl staff-th">QTY</th>
                                        <th class="headlbl staff-th">PRICE</th>
                                        <th style='text-align:right' class="headlbl staff-th">EXPIRY</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let product of edited; let i = index; let odd = odd;" style="border-bottom:2px solid white;" [class.even]=odd 
                                    class="ro staff-row">
                                        <td style="padding-left:4px;" class="data">
                                            {{product.item.name}}<span class="predata"></span>
                                        </td>
                                        <td class="data">{{product.stockInfo.quantity}}</td>
                                        <td class="data">{{product.stockInfo.price}}</td>
                                        <td style='text-align: right;padding-right: 2px;' class="data">
                                            {{product.stockInfo.expiry}}
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div *ngIf='tableView==="Cards"' style='margin-left:0px;padding-top:48px;' class="card-body orderbody">
                        <form style="top:15%; width:56%;padding-top:18px;margin:auto;" class=" staffsform" (submit)=addProducts()>
                            <div class="form-group vitals-section address">
                                <label style="font-size:8px" for="conclution" class="labelss">CARD</label>
                                <input (focus)=clearFeedback() [(ngModel)]="product.item.name"   name="category" class="form-control patientdata inputs dataInfo" placeholder="">
                            </div>
                            <div class="form-group vitals-section address" style=" width:47%; margin-right: 3px">
                                <label style='font-size:8px' for="price" class="labelss complain">PRICE</label>
                                <input (focus)=clearFeedback() [min]='1' type="number" [(ngModel)]="product.stockInfo.price" style="font-size:11px;" class="form-control patientdata status inputs dataInfo" name="price">
                            </div>
                            <div class="form-group vitals-section address" style=" width:51.3%; ">
                                <label style='font-size:8px' for="expiry" class="labelss complain">QTY</label>
                                <input (focus)=clearFeedback() [(ngModel)]="product.stockInfo.quantity" style="font-size:11px;" type="number" name="expiry" class="form-control patientdata inputs dataInfo">
                            </div>
                            <div style="margin-bottom:0px; width:100%;position:relative;height:25px;" class="form-group vitals-section formGroup">
                                <p style='position: absolute;left:47%;text-align:center; font-size:11px; top:10%;'>
                                    {{edited.length}}<span>/</span><span>{{count}}</span>
                                </p>
                            </div>
                        </form>
                        <div *ngIf="edited.length" style="top:1px;position:relative;width:80%;margin:auto;height: 200px">
                            <table cellspacing="0" class="data-table drugs-table" style="width:100%;left:0%;" summary="List of all items in store. ">
                                <thead class='productHead'>
                                    <tr class="staff-th">
                                        <th style="padding-left:4px;" class="headlbl staff-th">SERVICE</th>
                                        <th class="headlbl staff-th">CATEGORY</th>
                                        <th class="headlbl staff-th">PRICE</th>
                                        <th style='text-align:right' class="headlbl staff-th">DATE ADDED</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let product of edited; let i = index; let odd = odd;" style="border-bottom:2px solid white;" [class.even]=odd 
                                    class="ro staff-row">
                                        <td style="padding-left:4px;" class="data">
                                            {{product.item.name}}<span class="predata">
                                        </span></td>
                                        <td class="data">{{product.item.category}}</td>
                                        <td class="data">{{product.stockInfo.price}}</td>
                                        <td style='text-align: right;padding-right: 2px;' class="data">
                                            {{product.dateCreated|date:'dd-MM-y'}}
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div *ngIf='tableView==="Services"' style='margin-left:0px;padding-top:48px;' class="card-body orderbody">
                        <form style="top:15%; width:56%;margin:auto;" class=" staffsform" (submit)=addProducts()>
                            <div class="form-group vitals-section address">
                                <label style='font-size:8px;' for="drug" class="labelss">DESCRIPTION</label>
                                <input autocomplete="off" (keyup) = getDescriptions()  [(ngModel)]=product.item.name type="text" name="drug" class="form-control patientdata dystolic inputs dataInfo" />
                                <div  *ngIf="matches.length" style="position: absolute;z-index:200;height: 300px;border: none;"  class="options prisOption edit">
                                    <ul data-simplebar class="itemsList" style=" border-radius:4px; height: 300px;background-color: white;border:1px solid whitesmoke">
                                        <li *ngFor="let match of matches">
                                            <p (click)=selectTest(match) class="dept firstheader drugItem" style="font-size:11px;padding-left: 10px; padding-right: 10px;font-weight: normal;">{{match}}<span class="lastdept timetaken "></span>
                                            </p>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                            <div class="form-group vitals-section address">
                                <label style='font-size:8px' for="expiry" class="labelss complain">PRICE</label>
                                <input (focus)=clearFeedback() [(ngModel)]="product.stockInfo.price" type="number" name="price" class="form-control patientdata inputs dataInfo" placeholder="">
                            </div>
                            <div style="margin-bottom:0px; width:100%;position:relative;height:25px;" class="form-group vitals-section formGroup">
                                <p style='position: absolute;left:47%;text-align:center; font-size:11px; top:10%;'>
                                    {{edited.length}}<span>/</span><span>{{count}}</span>
                                </p>
                            </div>
                        </form>
                        <div *ngIf="edited.length" style="top:1px;position:relative;width:80%;margin:auto;height: 200px">
                            <table cellspacing="0" class="data-table drugs-table" style="width:100%;left:0%;" summary="List of all items in store. ">
                                <thead class='productHead'>
                                    <tr class="staff-th">
                                        <th style="padding-left:4px;" class="headlbl staff-th">SERVICE</th>
                                        <th class="headlbl staff-th">CATEGORY</th>
                                        <th class="headlbl staff-th">PRICE</th>
                                        <th style='text-align:right' class="headlbl staff-th">DATE ADDED</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr *ngFor="let product of edited; let i = index; let odd = odd;" style="border-bottom:2px solid white;" [class.even]=odd 
                                    class="ro staff-row">
                                        <td style="padding-left:4px;" class="data">
                                            {{product.item.name}}<span class="predata">
                                        </span></td>
                                        <td class="data">{{product.item.category}}</td>
                                        <td class="data">{{product.stockInfo.price}}</td>
                                        <td style='text-align: right;padding-right: 2px;' class="data">
                                            {{product.dateCreated|date:'dd-MM-y'}}
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <div style="position: absolute;top:87%;width:100%;display:flex;justify-content: center;align-content: center;" class="btn-group disposition">
                        <button (click)="updateProducts()" [disabled]=!edited.length  style=" width: 170px;font-size: 10px; border-radius: 30px; height:27px;" class="btn btn-sm btn-outline-primary  mainbtn">
                            UPDATE INVENTORY
                            <span *ngIf='processing' style="position: absolute; bottom: -7%;left: 10%;">
                                <i class="fa fa-circle-o-notch fa-spin fa-10x slow-spin " style="position:absolute;bottom:5px;left:5px;font-size:19px;color: #1da1f2;"></i>
                            </span>
                        </button>
                    </div>
                </div>
                <h6 *ngIf="feedback" class="feedbackMsg">{{feedback}}</h6>
                <h6 *ngIf=errLine style="color: red" class="feedbackMsg">{{errLine}}</h6>
                <div *ngIf='tableView==="Services"'   style=" top:112px;left: 37%; width: 7%;" class="btn-group disposition">
                    <button [disabled] = !edited.length   (click) = prev() style="width:30px;height: 30px;border-radius: 50%; border: none;"   class="btn btn-outline-primary  dispo " >
                        <i style='position:absolute;right:59%;top:2px; font-size:large; cursor:pointer; display: inline-block;' title="Back" class="icon ion-android-arrow-back shift-btn "></i>
                    </button>
                </div>
                <div *ngIf='tableView==="Services"'  style=" top:112px; left:55%; width:7%;" class="btn-group disposition shift-btn">
                    <button [disabled] = !product.item.name (click)=next() style="width:30px;height: 30px;border-radius: 50%;border: none;"   class="btn btn-outline-primary  dispo ">
                        <i style='position:absolute;right:36%;top:2px; font-size:large; cursor:pointer; display: inline-block;' title="Next" class="icon ion-android-arrow-forward "> 
                        </i>
                    </button>
                </div>
                <div *ngIf='tableView==="Cards"'   style=" top:131px;left: 37%; width: 7%;" class="btn-group disposition">
                    <button [disabled] = !edited.length   (click) = prev() style="width:30px;height: 30px;border-radius: 50%; border: none;"   class="btn btn-outline-primary  dispo " >
                        <i style='position:absolute;right:59%;top:2px; font-size:large; cursor:pointer; display: inline-block;' title="Back" class="icon ion-android-arrow-back shift-btn "></i>
                    </button>
                </div>
                <div *ngIf='tableView==="Cards"'  style=" top:131px; left:55%; width:7%;" class="btn-group disposition shift-btn">
                    <button [disabled] = !product.item.name (click)=next() style="width:30px;height: 30px;border-radius: 50%;border: none;"   class="btn btn-outline-primary  dispo ">
                        <i style='position:absolute;right:36%;top:2px; font-size:large; cursor:pointer; display: inline-block;' title="Next" class="icon ion-android-arrow-forward "> 
                        </i>
                    </button>
                </div>
                <div *ngIf='tableView==="Products"'  style=" top:149px;left: 37%; width: 7%;" class="btn-group disposition">
                    <button [disabled] = !edited.length   (click) = prev() style="width:30px;height: 30px;border-radius: 50%; border: none;"   class="btn btn-outline-primary  dispo " >
                        <i style='position:absolute;right:59%;top:2px; font-size:large; cursor:pointer; display: inline-block;' title="Back" class="icon ion-android-arrow-back shift-btn "></i>
                    </button>
                </div>
                <div *ngIf='tableView==="Products"'  style=" top:149px; left:55%; width:7%;" class="btn-group disposition shift-btn">
                    <button [disabled] = !product.item.name (click)=next() style="width:30px;height: 30px;border-radius: 50%;border: none;"   class="btn btn-outline-primary  dispo ">
                        <i style='position:absolute;right:36%;top:2px; font-size:large; cursor:pointer; display: inline-block;' title="Next" class="icon ion-android-arrow-forward "> 
                        </i>
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<div  class="modal " role="dialog" tabindex="-1" id="deleteModal" style="border-radius:32px;max-width:841px;margin: auto;padding-top: 35px">
        <div style="max-width: 730px;border-radius:32px;" class="modal-dialog" role="document">
            <div class="modal-content" style="width:100%; height:400px;border-radius:32px;padding-left:0px;padding-right: 0px;">
                <div class="modal-body" style="border-radius:32px;padding: 0px;">
                <div class="card card-secondary historycard midlecard profilecard" style="margin:auto;min-height:240px;border-radius:12px;">
                    <div style='padding-left: 30px;border-top-right-radius:12px;border-top-left-radius:12px;' class="card-header profileheader small-header">
                        <h6 style='font-size:10px;position:absolute; top:5%;left:2%;color:#1da1f2;' class="patien-name small-name">DELETE PRODUCT</h6>
                    </div>
                    <div *ngIf="selectionOccure()" style="top:1px; margin-bottom:25px;margin-top:10px;position:relative;width: 350px;left:70px;" class="form-group vitals-section setGroup">
                        <table cellspacing="0" class="data-table drugs-table" style="width:100%;left:0%;" summary="List of all items in store. ">
                            <thead class='productHead'>
                                <tr class="staff-th">
                                    <th style="padding-left:4px;" class="headlbl staff-th">PRODUCT</th>
                                    <th class="headlbl staff-th">QTY</th>
                                    <th class="headlbl staff-th">PRICE</th>
                                    <th style='text-align:right' class="headlbl staff-th">EXPIRY</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr *ngFor="let product of pickDeletables(); let i = index; let odd = odd;" style="border-bottom:2px solid white;" [class.even]=odd class="ro staff-row">
                                    <td style="padding-left:4px;" class="data">
                                        {{product.item.name}}<span class="predata">
                                    </span></td>
                                    <td class="data">{{product.stockInfo.quantity}}</td>
                                    <td class="data">{{product.stockInfo.price}}</td>
                                    <td style='text-align: right;padding-right: 2px;' class="data">
                                        {{product.stockInfo.expiry|date:'dd/MM/y'}}
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div *ngIf="selectionOccure()" (click)="deleteProducts()" style='left:90%; height:32px;width:32px' title='Done' class="floter">
                        <i *ngIf='processing' class="fa fa-circle-o-notch fa-spin fa-10x slow-spin" style="position:absolute;bottom:5px;left:5px;font-size:20px;color: #1da1f2;"> </i>
                        <i title='Delete' *ngIf='!processing' style="color:#1da1f2;bottom:-10px" class="icon ion-ios-checkmark-empty flotericon"> </i>
                    </div>
                </div>
                <!-- <div *ngIf = transMsg style="padding:5px;border-top: 1px solid rgb(248, 247, 247)" class="card-footer"> <h6  class="feedbackMsg">{{transMsg}}</h6><button class ='okbtn'>OK</button></div> -->
            </div>
        </div>
    </div>
</div>


<nav class="navbar fixed-top navbar-light navbar-expand-md navigation-clean-search" style="padding:0px; margin-bottom:0px;">
    <div class="container">
        <a class="navbar-brand" href="#">
            <em>catalyst</em>
        </a>
        <form class="top-searchform" target="_self">
            <div class="form-group">
                    <input [(ngModel)]=searchTerm #search (keyup)='searchProducts(searchTerm)' autocomplete="off" style="border-radius:.999em;
                    width:80%;display:inline-block;
                    position: absolute;
                    text-align: left;
                    vertical-align: middle;
                    top:11%;
                    box-shadow:none;
                    outline:none;
                    background-color: rgba(233, 236, 239, 0.7);
                    " class="form-control" type="search" name="search" id="search-field" placeholder="Search patient">
              
                <i style='font-size:20px; top:3px;left:83%;position:relative;display:inline' class="icon ion-ios-search " title="Search"></i>
                <h6 style='font-size:12px;
                left:98%;position:relative;display:inline-block;
                color:grey;
                font-weight:normal;'>View: <span style='cursor:pointer; color:#1da1f2;' (click)='toggleMenu()'>
                  {{tableView}}</span></h6>
                <div *ngIf=menuView style='position: absolute; left:120%; width:100px;top:6px; height:110px' class="menu">
                    <ul (mouseleave)=toggleMenu() class="actions primary">
                        <li (click)='toggleView("Products")' class="action">Products</li>
                        <li (click)='toggleView("Services")' class="action">Services</li>
                        <li (click)='toggleView("Cards")' class="action">Cards</li>
                    </ul>
                </div>
            </div>
        </form>

    </div>
   
    <i *ngIf="tableView ==='Products'" style="left:75%;" class="icon ion-ios-plus-empty arrow buble" id="add" title="Add Product" data-target="#productModal" data-toggle="modal"></i>
    <i *ngIf="tableView === 'Services'" style="left:75%;" class="icon ion-ios-plus-empty arrow buble" id="add" title="Add Service" data-target="#productModal" data-toggle="modal"></i>
    <i *ngIf="tableView === 'Cards'" style="left:75%;" class="icon ion-ios-plus-empty arrow buble" id="add" title="Add Card" data-target="#productModal" data-toggle="modal"></i>
  
    <div class="timeline lastdoc priscriber headerdp small-dp user-dp" style="left:90%;position:absolute;height:30px;width:30px;top:5px; margin-bottom:0px;"> <img style='height:100%; width:100%; object-fit:cover;' [src]=getMyDp()/></div>
</nav>





<div style="padding-top:43px;height:100%" class=" col-xs-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
    <div *ngIf='!products.length' class='issue'>
        <div *ngIf='loading' class="lds-css ng-scope">
            <!-- <div style="width:100%;height:100%" class="lds-rolling"></div> -->
            <!-- <div>
        </div> -->
        </div>
        <div (click)='refresh()' *ngIf='message' title='Refresh' class='refresh'><i class="icon ion-ios-reload "></i></div>
        <h6 *ngIf='message' style='font-size:13px;position:absolute;top:65%; width:100%; color:lightgrey;text-align: center'>{{message}}</h6>
    </div>
    <table *ngIf='tableView === "Services"' cellspacing="0" class="data-table" summary="List of all items in store. ">
        <thead>
            <tr>
                <th class="checkhead"></th>
                <th title="Sort by name" (click)="sortProducts('name')" title="Sort by name">SERVICE
                    <span class="sorter">
                          <i *ngIf="sortBy ==='name'" style="color:lightgreen" class="icon ion-android-arrow-dropdown"></i>
                     </span>
                </th>
                <th title="Sort by category" (click)="sortProducts('category')">CATEGORY
                    <span class="sorter">
                          <i *ngIf="sortBy ==='category'" style="color:lightgreen" class="icon ion-android-arrow-dropdown"></i>
                     </span>
                </th>
                <th title="Sort by price" (click)="sortProducts('price')">PRICE
                    <span class="sorter">
                          <i *ngIf="sortBy==='price'" style="color:lightgreen" class="icon ion-android-arrow-dropdown"></i>
                     </span>
                </th>
                <th title="Sort by price" (click)="sortProducts('sold')">REQUESTS
                    <span class="sorter">
                          <i *ngIf="sortBy==='quantity'" style="color:lightgreen" class="icon ion-android-arrow-dropdown"></i>
                     </span>
                </th>
                <th style='text-align:center' title="Sort by recently added" (click)="sortProducts('added')" title="Sort by date added">DATE ADDED
                    <span class="sorter">
                            <i *ngIf="sortBy==='added'" style="color:lightgreen" class="icon ion-android-arrow-dropdown"></i>
                      </span>
                </th>
            </tr>
        </thead>
        <tbody>
            <tr (click)=selectProduct(i) *ngFor="let product of curentItems; let i = index" class="odd" [class.selection]=product.selected>
                <td class="check-box"> </td>
                <td>{{product.item.name}}&nbsp;<span class="predata"></span></td>
                <td>{{product.item.category}}</td>
                <td>{{product.stockInfo.price}}</td>
                <td>{{product.stockInfo.sold||0}}</td>
                <td style='text-align:center'>{{product.dateCreated|date:'dd-MM-y'}}</td>
            </tr>
        </tbody>
    </table>
    <table *ngIf=' tableView === "Products"' cellspacing="0" class="data-table" summary="List of all items in store. ">
        <thead>
            <tr>
                <th class="checkhead"></th>
                <th title="Sort by name" (click)="sortProducts('name')" title="Sort by name">PRODUCT NAME
                    <span class="sorter">
                          <i *ngIf="sortBy ==='name'" style="color:lightgreen" class="icon ion-android-arrow-dropdown"></i>
                     </span>
                </th>

                <th title="Sort by description" (click)="sortProducts('description')">CATEGORY
                    <span class="sorter">
                          <i *ngIf="sortBy ==='description'" style="color:lightgreen" class="icon ion-android-arrow-dropdown"></i>
                     </span>
                </th>
                <th title="Sort by price" (click)="sortProducts('price')">PRICE
                    <span class="sorter">
                          <i *ngIf="sortBy==='price'" style="color:lightgreen" class="icon ion-android-arrow-dropdown"></i>
                     </span>
                </th>
                <th title="Sort by price" (click)="sortProducts('quantity')">QUANTITY
                    <span class="sorter">
                          <i *ngIf="sortBy==='quantity'" style="color:lightgreen" class="icon ion-android-arrow-dropdown"></i>
                     </span>
                </th>
                <th title="Sort by sold" (click)="sortProducts('sold')">SOLD
                    <span class="sorter">
                        <i *ngIf="sortBy==='sold'" style="color:lightgreen" class="icon ion-android-arrow-dropdown"></i>
                  </span>
                </th>
                <th title="Sort by recently added" (click)="sortProducts('added')" title="Sort by date added">DATE ADDED
                    <span class="sorter">
                            <i *ngIf="sortBy==='added'" style="color:lightgreen" class="icon ion-android-arrow-dropdown"></i>
                      </span>
                </th>
                <th title="Sort by expired " (click)="sortProducts('expiry')" title="sort by date expired">DATE EXPIRY
                    <span class="sorter">
                            <i *ngIf="sortBy==='expiry'" style="color:lightgreen" class="icon ion-android-arrow-dropdown"></i>
                      </span>
                </th>
            </tr>
        </thead>
        <tbody>
            <tr (click)=selectProduct(i) *ngFor="let product of curentItems; let i = index" class="odd" [class.selection]=product.selected>
                <td class="check-box">
                </td>
                <td>{{product.item.name}}&nbsp;<span class="predata"></span></td>
                <td>
                    <p [title]='product.item.description' class="description">{{product.type||'---' }}</p>
                </td>
                <td>{{product.stockInfo.price}}</td>
                <td>{{product.stockInfo.quantity}}</td>
                <td>{{product.stockInfo.sold||0}}</td>
                <td>{{product.dateCreated|date:'dd-MM-y'}}</td>
                <td style='text-decoration:none' [class.expired]=expired(product.stockInfo.expiry)>
                    {{product.stockInfo.expiry|date:'dd-MM-y'||'---'}}</td>
            </tr>
        </tbody>
    </table>
    <table *ngIf=' tableView === "Cards"' cellspacing="0" class="data-table" summary="List of all items in store. ">
        <thead>
            <tr>
                <th class="checkhead"></th>
                <th title="Sort by name" (click)="sortProducts('name')" title="Sort by name">CARD
                    <span class="sorter">
                          <i *ngIf="sortBy ==='name'" style="color:lightgreen" class="icon ion-android-arrow-dropdown"></i>
                     </span>
                </th>
                <th title="Sort by price" (click)="sortProducts('price')">PRICE
                    <span class="sorter">
                          <i *ngIf="sortBy==='price'" style="color:lightgreen" class="icon ion-android-arrow-dropdown"></i>
                     </span>
                </th>
                <th title="Sort by price" (click)="sortProducts('quantity')">QUANTITY
                    <span class="sorter">
                          <i *ngIf="sortBy==='quantity'" style="color:lightgreen" class="icon ion-android-arrow-dropdown"></i>
                     </span>
                </th>
                <th title="Sort by sold" (click)="sortProducts('sold')">SOLD
                    <span class="sorter">
                        <i *ngIf="sortBy === 'sold'" style="color:lightgreen" class="icon ion-android-arrow-dropdown"></i>
                  </span>
                </th>
                <th style='text-align:center' title="Sort by recently added" (click)="sortProducts('added')" title="Sort by date added">DATE ADDED
                    <span class="sorter">
                            <i *ngIf="sortBy==='added'" style="color:lightgreen" class="icon ion-android-arrow-dropdown"></i>
                      </span>
                </th>
            </tr>
        </thead>
        <tbody>
            <tr (click)=selectProduct(i) *ngFor="let product of curentItems; let i = index" class="odd" [class.selection]=product.selected>
                <td class="check-box"></td>
                <td>{{product.item.name}}&nbsp;<span class="predata"></span></td>
                <td>{{product.stockInfo.price}}</td>
                <td>{{product.stockInfo.quantity}}</td>
                <td>{{product.stockInfo.sold||0}}</td>
                <td style='text-align:center'>{{product.dateCreated|date:'dd-MM-y'}}</td>
            </tr>
        </tbody>
    </table>
    <div *ngIf="selectionOccure()" class="options" style="height:40px; bottom: 1%; background-color:#f8f8f8;border: none; ">
        <i data-target="#deleteModal" data-toggle="modal" title="Delete" class="optionIcon icon ion-ios-trash-outline"></i>
        <i (click)='pickSelection()' title="Edit" class="optionIcon editIcon icon ion-edit" data-target="#editModal" data-toggle="modal"></i>
        <i title="Select all" class="material-icons optionIcon cancelIcon">select_all</i>

    </div>

</div>
