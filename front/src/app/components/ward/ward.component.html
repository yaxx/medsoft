<div class="modal fade" role="dialog" tabindex="-1" id="phModal" style="border-radius:0px;width:auto;">
  <div class="modal-dialog" role="document">
      <div class="modal-content" style="width:550px;">

              <div class="modal-header" style="padding:6px; ">


                  <div style="top:2px;"  class="timeline lastdoc priscriber headerdp"></div>
                  <h1 style="left:40px; display: inline-block;" class="dept displayname">Aisha Mohammed<span class="predata editicon" title="Edit"><i class="icon ion-ios-checkmark-empty headericon" title></i></span></h1>
                  <h1 class="dept displayname subinfo">Feb 10, 2018</h1>


                  <!-- <h6 class="modal-title dept" style="text-align:center; width:100%">CONSULTATION</h6> -->
                  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                      <span aria-hidden="true">Ã—</span>
                  </button>
              </div>
          <div class="modal-body">
              <form class="accountform staffsform" (submit) = updateMedication()>
                  <div class="form-group vitals-section address">
                      <textarea class="patientdata note " name= "note" placeholder="Note">
                      </textarea>
                  </div>

                      <button style="font-size:12px; width:30%"  type="submit" class="btn btn-sm btn-outline-primary inputs" >Post</button>

               </form>
          </div>
      </div>
  </div>
</div>




<div
class="container">
<div class="row">


    <div [ngSwitch]="view"  *ngFor="let patient of patients; let p = index" class="col col-xl-3 col-lg-3 col-md-4 col-sm-6 col-xs-12">
        <div *ngSwitchCase="'details'" class="card card-secondary maincard">
            <div class="card-header profileheader">
              <div class="timeline lastdoc priscriber headerdp"></div>
              <h1 class="dept displayname qicon">{{patient.personal.firstName + ' '+ patient.personal.lastName}}<span class="predata editicon" title="Edit"><i class="icon ion-android-more-vertical headericon moreicon" title="more actions"></i>
                <i *ngIf= "patient.status==='queued'" class="icon ion-ios-clock-outline headericon clock" ></i>
                <i *ngIf= "patient.status==='discharged'" class="icon ion-ios-checkmark-empty headericon" ></i>
                <i *ngIf= "patient.status==='admitted'" class="icon ion-ios-help-outline headericon in" ></i>
                <i *ngIf= "patient.status==='gone'"  class="icon ion-ios-close-outline headericon gone" ></i>
              </span></h1>
              <h1 class="dept displayname subinfo">{{patient.dateCreated|date:'mediumDate'}}</h1>
            </div>
            <div style="margin-left:0px; border-left: none" class="card-body orderbody" >
              <form style="top:5%; padding-left: 2%; padding-right: 2%;" class="accountform staffsform" (submit) = updateMedication()>

                <div class="form-group vitals-section address">
                    <label for="drug" class="labelss">Drug Name</label>
                    <input autocomplete="off" (keyup)= "searchItem(input)" [(ngModel)] = input type="text" name="drug" placeholder= "E.g Paracetamol" class="patientdata dystolic inputs dataInfo" />

                    <div *ngIf= temProducts.length  class="options prisOption edit">
                        <ul class="itemsList" >
                          <li  *ngFor="let product of temProducts"><p (click) = "selectProduct(product)"  class="dept firstheader drugItem" style="font-size:13px;padding-left: 10px; padding-right: 10px;font-weight: normal;" >{{product.item.name+ ' '}}<span class="lastdept timetaken " >{{product.item.mesure + product.item.unit}}</span></p>
                          </li>
                        </ul>
                    </div>

                </div>
                <div class="form-group vitals-section formGroup" style=" width:28%;">
                    <label for="dos" class="labelss complain">Intake</label>
                    <input [(ngModel)] = "medication.priscription.intake" style="border-top-right-radius: 0px;border-bottom-right-radius: 0px;"  type="number" name="dos" class="patientdata inputs dataInfo"  >
                </div>
                <div class="form-group vitals-section formGroup" style=" width:43%; ">
                    <label for="intake" class="labelss complain">Freq</label>
                    <select [(ngModel)]="medication.priscription.freq" style="border-radius: 0px;"  class=" patientdata status inputs dataInfo " name="intake">
                            <option>dos</option>
                            <option>qos</option>
                            <option>after meal</option>
                            <option>as required</option>
                    </select>
                </div>
                <div class="form-group vitals-section formGroup" style=" width:28%;">
                    <label for="piriod" class="labelss complain">Days</label>
                    <input [(ngModel)]="medication.priscription.piriod" style="border-top-left-radius: 0px;border-bottom-left-radius: 0px;"  type="number" name="piriod" class="patientdata inputs dataInfo"   placeholder="">
                </div>
                <div class="form-group vitals-section address">
                  <button (click)=switchViews() style="font-size:11px; width:50%;border-top-right-radius: 0px;border-bottom-right-radius: 0px; "  type="button" class="btn btn-sm btn-outline-primary inputs" >Cancel</button>

                  <button style="font-size:11px; width:49.5%; border-top-left-radius: 0px;border-bottom-left-radius: 0px; "  type="submit" class="btn btn-sm btn-outline-primary inputs" >Add Medication</button>
                </div>
            </form>

            </div>
        </div>




        <div *ngSwitchCase="'bed'" class="card card-secondary maincard">
            <div class="card-header profileheader">
              <div class="timeline lastdoc priscriber headerdp"></div>
              <h1 class="dept displayname qicon">{{patient.personal.firstName + ' '+ patient.personal.lastName}}<span class="predata editicon" title="Edit"><i class="icon ion-android-more-vertical headericon moreicon" title="more actions"></i>
                <i *ngIf= "patient.status==='queued'" class="icon ion-ios-clock-outline headericon clock" ></i>
                <i *ngIf= "patient.status==='discharged'" class="icon ion-ios-checkmark-empty headericon" ></i>
                <i *ngIf= "patient.status==='admitted'" class="icon ion-ios-help-outline headericon in" ></i>
                <i *ngIf= "patient.status==='gone'"  class="icon ion-ios-close-outline headericon gone" ></i>
              </span></h1>
              <h1 class="dept displayname subinfo">Bed No. {{lastVisit.bedNo}}</h1>
            </div>
            <div style="margin-left:0px; border-left: none" class="card-body orderbody" >
              <form style="top:5%; padding-left: 2%; padding-right: 2%;" class="accountform staffsform" (submit) = updateMedication()>

                <div class="form-group vitals-section address">
                    <label for="drug" class="labelss">Ward No.</label>
                    <select [(ngModel)]="lastVisit.wardNo"  class=" patientdata status inputs dataInfo " name="intake">
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                </select>
                </div>
                <div class="form-group vitals-section address">
                    <label for="drug" class="labelss">Bed No.</label>
                    <select [(ngModel)]="lastVisit.bedNo" class=" patientdata status inputs dataInfo " name="intake">
                        <option>1</option>
                        <option>2</option>
                        <option>3</option>
                        <option>4</option>
                </select>
                </div>

                <div class="form-group vitals-section address">
                  <button (click)=switchViews() style="font-size:11px; width:50%;border-top-right-radius: 0px;border-bottom-right-radius: 0px; "  type="button" class="btn btn-sm btn-outline-primary inputs" >Cancel</button>

                  <button style="font-size:11px; width:49.5%; border-top-left-radius: 0px;border-bottom-left-radius: 0px; "  type="submit" class="btn btn-sm btn-outline-primary inputs" >Admit </button>
                </div>
            </form>

            </div>
        </div>





      <div *ngSwitchCase="'drugs'"class="card card-secondary maincard">
        <div class="card-header profileheader">
          <div class="timeline lastdoc priscriber headerdp"></div>
          <h1 class="dept displayname qicon">{{patient.personal.firstName + ' '+ patient.personal.lastName}}<span class="predata editicon" title="Edit"><i class="icon ion-android-more-vertical headericon moreicon" title="more actions"></i><i  *ngIf= "patient.status==='queued'" class="icon ion-ios-clock-outline headericon clock" title=""></i>
            <i *ngIf= "patient.status==='discharged'" class="icon ion-ios-checkmark-empty headericon" title=""></i>
            <i *ngIf= "patient.status==='admitted'" class="icon ion-ios-help-outline headericon in" title=""></i>
            <i *ngIf= "patient.status==='gone'"  class="icon ion-ios-close-outline headericon gone" title=""></i>

          </span></h1>
          <h1 class="dept displayname subinfo">Bed No: 02</h1>
          <!-- <div class="menu">
            <ul class="actions primary">
              <li (click)=switchViews() class="action">Add Medication</li>
              <li  data-target="#phModal" data-toggle="modal" class="action">Add Note</li>
              <li (click)= discharge(p) class="action">Discharge</li>
              <li (click)= gone(p) class="action">Comfirm Death</li>
            </ul>
          </div> -->
        </div>
          <div class="card-body">
              <div style="border-bottom:0px" class="carditem priscriptioncontainer">
                  <div class="timeline condition">
                      <h1 class="timelinedate">02</h1>
                      <h1 class="timelinedate month">SEP</h1>
                  </div>
                  <div *ngFor="let medication of patient.record.medications; let m = index"  class="priscription wardpriscription">
                      <h1 class="dept">{{medication.product.item.name+ ' ' }}<span class="predata">{{medication.product.item.mesure+medication.product.item.unit}}</span><span class="predata prescriptionicon"><input (click)="selectDrug(p, m)" type="checkbox"></span></h1>
                      <h1 class="dept priscriptiontime">{{medication.priscribedOn|date:'dd/MM/y hh:mma'|lowercase}}<span class="timetaken">{{medication.lastTaken|date:'dd/MM/y hh:mma'|lowercase}}</span></h1>
                  </div>
              </div>
          </div>
          <div class="floter" title="Examine"><i (click)="updateTimeTaken(p, m)"class="icon ion-person-stalker flotericon consulticon" title="Examine"></i>
          </div>
      </div>

      <div *ngSwitchDefault class="card card-secondary maincard">
        <div class="card-header profileheader">
          <div class="timeline lastdoc priscriber headerdp"></div>
          <h1 class="dept displayname qicon">{{patient.personal.firstName + ' '+ patient.personal.lastName}}<span class="predata editicon" title="Edit"><i class="icon ion-android-more-vertical headericon moreicon" title="more actions"></i><i  *ngIf= "patient.status==='queued'" class="icon ion-ios-clock-outline headericon clock" title=""></i>
            <i *ngIf= "patient.status==='discharged'" class="icon ion-ios-checkmark-empty headericon" title=""></i>
            <i *ngIf= "patient.status==='admitted'" class="icon ion-ios-help-outline headericon in" title=""></i>
            <i *ngIf= "patient.status==='gone'"  class="icon ion-ios-close-outline headericon gone" title=""></i>

          </span></h1>
          <h1 class="dept displayname subinfo">Bed No: 02</h1>
          <div class="menu">
            <ul class="actions primary">
              <li (click)=switchViews() class="action">Add Medication</li>
              <li  data-target="#phModal" data-toggle="modal" class="action">Add Note</li>
              <li (click)= discharge(p) class="action">Discharge</li>
              <li (click)= gone(p) class="action">Comfirm Death</li>
            </ul>
          </div>
        </div>
          <div class="card-body">
              <div style="border-bottom:0px" class="carditem priscriptioncontainer">
                  <div class="timeline condition">
                      <h1 class="timelinedate">02</h1>
                      <h1 class="timelinedate month">SEP</h1>
                  </div>
                  <div *ngFor="let medication of patient.record.medications; let m = index"  class="priscription wardpriscription">
                      <h1 class="dept">{{medication.product.item.name+ ' ' }}<span class="predata">{{medication.product.item.mesure+medication.product.item.unit}}</span><span [ngSwitch]="medication.paused" class="predata editicon" title="Edit">
                      <i *ngSwitchCase="false"(click)=selectMedication(p,m) class="icon ion-ios-play-outline editicon continue" title="Continue">
                      </i>
                      <i *ngSwitchCase="true"(click)=selectMedication(p,m)  class="icon ion-ios-pause-outline editicon" title="Discontinue"></i>
                      <i *ngSwitchDefault  class="icon ion-ios-pause-outline editicon" title="Discontinue"></i>


                      </span></h1>
                      <h1 class="dept priscriptiontime">2/18/2018 8:50am<span class="timetaken">5/18/2018 &nbsp;4:05pm</span></h1>
                  </div>


              </div>

          </div>
          <div class="floter" title="Examine"><i data-target="#newModal" data-toggle="modal" class="icon ion-person-stalker flotericon consulticon" title="Examine"></i>
          </div>

      </div>




    </div>
  </div>
</div>
